---
name: Fix Avito account display and improve readability
overview: Исправить отображение аккаунтов Avito в Select компоненте и улучшить читаемость текста в модальном окне подключения.
todos:
  - id: fix-account-format
    content: Проверить и исправить формат данных аккаунтов от Avito API
    status: completed
  - id: improve-select-styles
    content: Улучшить стилизацию Select компонента для темной темы
    status: completed
  - id: handle-empty-accounts
    content: Добавить обработку пустого списка аккаунтов
    status: completed
  - id: improve-text-readability
    content: Улучшить читаемость текста в модальном окне
    status: completed
---

# Исправление отображения аккаунтов и улучшение читаемости

## Проблемы

1. Аккаунты не отображаются (показывает "No data")
2. Плохая читаемость текста (цвет букв ужасный)

## Решение

### 1. Проверить и исправить формат данных аккаунтов

**Файл:** `supabase/functions/avito-sync/index.ts`

Проблема: Avito API может возвращать данные в другом формате. Нужно проверить структуру ответа и правильно извлечь аккаунты.

- Добавить логирование структуры ответа от Avito API
- Проверить, что `userData.accounts` существует и является массивом
- Возможно, аккаунты находятся в другом поле (например, `userData.data.accounts` или просто массив объектов)

### 2. Улучшить стилизацию Select компонента

**Файл:** `src/components/AvitoConnectModal.tsx`

- Добавить кастомные стили для Select в темной теме
- Улучшить контрастность текста (использовать `text-white` или `text-slate-100` вместо `text-slate-300`)
- Добавить стили для опций Select (лучшая читаемость)
- Улучшить placeholder и текст подсказок

### 3. Добавить обработку пустого списка аккаунтов

**Файл:** `src/components/AvitoConnectModal.tsx`

- Показывать сообщение, если аккаунты не загружены
- Показывать сообщение, если список аккаунтов пуст
- Добавить состояние загрузки аккаунтов

### 4. Улучшить общую читаемость модального окна

**Файл:** `src/components/AvitoConnectModal.tsx`

- Улучшить цвета текста для лучшего контраста
- Использовать более светлые цвета для основного текста
- Улучшить стилизацию всех текстовых элементов

## Изменения в коде

### `supabase/functions/avito-sync/index.ts`

- Добавить логирование структуры ответа от Avito
- Проверить разные возможные форматы ответа
- Правильно извлечь массив аккаунтов

### `src/components/AvitoConnectModal.tsx`

- Добавить кастомные стили для Select
- Улучшить цвета текста (text-white, text-slate-100)
- Добавить обработку пустого списка
- Улучшить читаемость всех текстовых элементов